##### [<-- back to Types data](../types_data/types_data.md)

## Ссылочные

* Наследуются от `java.lang.Object`
* Ссылка может принимать значение `null`

### Класс String

* Класс String для работы со строками (находится в пакете java.lang, его не нужно импортировать)
* Класс реализует интерфейсы Serializable и CharSequence.
* Класс String - final класс, который не может иметь потомков.
* Класс String - immutable класс, то есть его объекты не могут быть изменены после создания.
* Любые операции над объектом String, результатом которых должен быть объект класса String, приведут к созданию нового объекта.
* Благодаря своей неизменности, объекты класса String являются потокобезопасными и могут быть использованы в многопоточной среде.
* Каждый объект может быть преобразован в строку через метод toString, унаследованный всеми классами от класса Object.
* Строка - это не массив символов, хотя есть способы конвертации.
* Никаких нулевых символов в конце, длина хранится отдельно.

Строковые литералы:

```java
String zeros = "\u0000 \u0000";
String hello = "Hello";
String specialChars = "\r \n \t \" \\";
String unicodeEscapes = "\u0101 \u2134 \u03ff";
```

Создание из массива символов с помощью конструктора:

```java
char[] charArray = {'a', 'b', 'c', 'd'};
String string = new String (charArray); // abcd
String string = new String (charArray, 0, 2); // ab
```

Конкатенация строк:

```java
String helloWorld = "Hello " + "World!"; // Hello World!
```

Классы StringBuilder и StringBuffer:

* Классы используются для работы со строками, без дублирования строк при изменении (находится в пакете java.lang)
* StringBuilder был введен в Java 5.
* Основное различие между StringBuilder и StringBuffer то, что методы StringBuilder не являются безопасными для потоков (несинхронизированные).
* Рекомендуется использовать StringBuilder, потому что он быстрее. Однако, если необходима безопасность потоков, наилучшим вариантом являются объекты StringBuffer.

```java
StringBuffer sBuffer = new StringBuffer("Тест");
sBuffer.append(" StringBuffer");
System.out.println(sBuffer); // Тест StringBuffer
```

### Методы реализующие классы StringBuilder и StringBuffer

`append((Object obj)` - обновляет значение объекта, который вызывает метод (принимает boolean, char, int, long, Strings и т.д.)

`reverse()` - изменяет значение объекта StringBuffer, который вызывает метод.

`delete(int start, int end)` - удаляет строку, начиная с начального индекса до конечного индекса.

`insert(int offset, Object obj)` - вставляет строку s в позицию, упомянутую по смещению.

`replace(int start, int end, String str)` - заменяет символы в подстроке данного StringBuffer символами в указанной строке.

```java
StringBuilder buf = new StringBuilder();
buf.append("Hello ");
buf.append("World!");
String result = buf.toString(); // Hello World!
```

Интернирование строк:

* Строка созданная как строковый литерал `String s = "Текст"` хранится в специальном месте кучи - пуле строк (string pool).
* В пуле строк хранятся исключительно уникальные значения строковых литералов.
* Процесс помещения строк в пул называется интернирование (interning).

```java
// Строка `s` и `s1` указывают на один объект в куче (пуле строк)
String s = "Текст";
String s1 = "Текст";
String s2 = new String("Текст"); // Указывает на новый объект в куче
```

Сравнение строк:

* Оператор `==` сравнивает ссылки, а не содержимое строки.
* Для сравнения содержимого строки существует метод `equals()`

```java
// Интернированные строки, указывают на один и тот же объект
"Текст" == "Текст" // true

// Переменные указывают на разные объекты
new String("Текст") == "Текст" // false
new String("Текст") == new String("Текст") // false
```

### Методы реализующие класс String

`charAt(int index)` - возвращает символ по указанному индексу.

`compareTo(Object o)` - сравнивает данную строку с другим объектом.

`compareTo(String anotherString)` - сравнивает две строки лексически.

`compareToIgnoreCase(String str)` - сравнивает две строки лексически, игнорируя регистр букв.

`concat(String str)` - объединяет указанную строку с данной строкой, путем добавления ее в конце.

`contentEquals(StringBuffer sb)` - возвращает значение true только в том случае, если эта строка представляет собой ту же последовательность символов как указанно в буфере строки (StringBuffer).

`copyValueOf(char[] data)` - возвращает строку, которая представляет собой последовательность символов, в указанный массив.

`copyValueOf(char[] data, int offset, int count)` - возвращает строку, которая представляет собой последовательность символов, в указанный массив.

`endsWith(String suffix)` - проверяет, заканчивается ли эта строка указанным окончанием.

`equals(Object anObject)` - сравнивает данную строку с указанным объектом.

`equalsIgnoreCase(String anotherString)` - сравнивает данную строку с другой строкой, игнорируя регистр букв.

`getBytes()` - кодирует эту строку в последовательность байтов с помощью платформы charset, сохраняя результат в новый массив байтов.

`getBytes(String charsetName)` - кодирует эту строку в последовательность байтов с помощью платформы charset, сохраняя результат в новый массив байтов.

`getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin)` - копирует символы из этой строки в массив символов назначения.

`hashCode()` - возвращает хэш-код для этой строки.

`indexOf(int ch)` - возвращает индекс первого вхождения указанного символа в данной строке.

`indexOf(int ch, int fromIndex)` - возвращает индекс первого вхождения указанного символа в данной строке, начиная поиск с указанного индекса.

`indexOf(String str)` - возвращает индекс первого вхождения указанной подстроки в данной строке.

`indexOf(String str, int fromIndex)` - возвращает индекс первого вхождения указанной подстроки в данной строке, начиная с указанного индекса.

`intern()` - возвращает каноническое представление для строкового объекта.

`lastIndexOf(int ch)` - возвращает индекс последнего вхождения указанного символа в этой строке.

`lastIndexOf(int ch, int fromIndex)` - возвращает индекс последнего вхождения указанного символа в этой строке, начиная обратный поиск с указанного индекса.

`lastIndexOf(String str)` - возвращает индекс последнего вхождения указанной подстроки в данной строке.

`lastIndexOf(String str, int fromIndex)` - возвращает индекс последнего вхождения указанной подстроки в этой строке, начиная обратный поиск с указанного индекса.

`length()` - возвращает длину строки.

`matches(String regex)` - сообщает, соответствует ли или нет эта строка заданному регулярному выражению.

`regionMatches(boolean ignoreCase, int toffset, String other, int ooffset, int len)` - проверяет равны ли две области строки.

`regionMatches(int toffset, String other, int ooffset, int len)` - проверяет равны ли две области строки.

`replace(char oldChar, char newChar)` - возвращает новую строку, в результате, заменив все вхождения oldChar в этой строке на newChar.

`replaceAll(String regex, String replacement)` - заменяет каждую подстроку строки, соответствующей заданному регулярному выражению с данной заменой.

`replaceFirst(String regex, String replacement)` - заменяет первые подстроки данной строки, которая соответствует заданному регулярному выражению с данной заменой.

`split(String regex)` - разделяет эту строку, окружая данным регулярным выражением.

`split(String regex, int limit)` - разделяет эту строку, окружая данным регулярным выражением.

`startsWith(String prefix)` - проверяет, начинается ли эта строка с заданного префикса.

`startsWith(String prefix, int toffset)` - проверяет, начинается ли эта строка с указанного префикса, начиная с указанного индекса.

`subSequence(int beginIndex, int endIndex)` - возвращает новую последовательность символов, которая является подпоследовательностью этой последовательности.

`substring(int beginIndex)` - возвращает новую строку, которая является подстрокой данной строки.

`substring(int beginIndex, int endIndex)` - возвращает новую строку, которая является подстрокой данной строки.

`toCharArray()` - преобразует эту строку в новый массив символов.

`toLowerCase()` - преобразует все символы в данной строке в нижний регистр, используя правила данного языкового стандарта.

`toLowerCase(Locale locale)` - преобразует все знаки в данной строке в нижний регистр, используя правила данного языкового стандарта.

`toString()` - этот объект (который уже является строкой!) возвращает себя.

`toUpperCase()` - преобразует все символы в строке в верхний регистр, используя правила данного языкового стандарта.

`toUpperCase(Locale locale)` - преобразует все символы в строке в верхний регистр, используя правила данного языкового стандарта.

`trim()` - возвращает копию строки с пропущенными начальными и конечными пробелами.

`valueOf(primitive data type x)` - возвращает строковое представление переданного типа данных аргумента.